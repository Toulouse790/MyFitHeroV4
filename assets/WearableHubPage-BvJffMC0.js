import{d as W,r as o,j as e}from"./index-CjnEZlsY.js";import{T as Q,a as Z,b as R,c as _}from"./tabs-jX3VcdfO.js";import{B as C,C as m,a as p,b as f,c as h,d as u}from"./badge-0XDKnG36.js";import{u as H}from"./use-toast-1UJezmcI.js";import{u as O,A as G,S as U,a as J}from"./SettingsPage-2dzb-c-E.js";import{A as b}from"./activity-C-flMYAi.js";import{H as L}from"./heart-Cxo5znlq.js";import{M as P,T as K}from"./triangle-alert--sfgpjrD.js";import{Z as D}from"./zap-BxpV5bJv.js";import{T as A}from"./trending-up-Cmv-0pKX.js";import{C as F}from"./clock-Dl80stQh.js";import{T as B}from"./target-Di6UzvH3.js";import{A as I}from"./award-BcNAyl6q.js";import{B as T,S as X}from"./UniformHeader-CjBBS_mR.js";import{C as Y}from"./circle-check-big-B5HpQEAC.js";import{C as ee}from"./calendar-D7qE-8IO.js";import{U as se}from"./user-BtYr8gLe.js";import{R as te}from"./refresh-cw-CxIxu3Pr.js";import{C as ae}from"./circle-alert-T1ygxnjL.js";import{C as re}from"./chart-column-CLHNa-_6.js";import{W as ie}from"./wifi-C1x7sfWA.js";import"./index-DdwsCUG1.js";import"./clsx-B-dksMZM.js";import"./index-GGMoTRFm.js";import"./input-BbNGe5Ek.js";import"./index-Dxu7zm8J.js";import"./textarea-C4XsJauq.js";import"./shield-BlXCgQw2.js";import"./save-T82v-oun.js";import"./eye-CSV1oSLp.js";import"./trophy-CS6fcHcf.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M12 10v2.2l1.6 1",key:"n3r21l"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],q=W("watch",le);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ce=W("wifi-off",ne),de=({userId:j="current-user-id",className:w})=>{var n,c;const{getCachedData:M}=O(),[i,g]=o.useState(null),[l,d]=o.useState(null),[N,S]=o.useState(!0),[v,z]=o.useState(7);o.useEffect(()=>{k()},[v]);const k=async()=>{try{S(!0);const a=M();a&&g(a);const x=await G.getWearableStats(j,v);d(x)}catch{console.error("Erreur lors du chargement des données wearables:",error)}finally{S(!1)}},y=a=>a>=3.5?{text:"Excellente",color:"text-green-600"}:a>=2.5?{text:"Bonne",color:"text-blue-600"}:a>=1.5?{text:"Correcte",color:"text-yellow-600"}:{text:"Mauvaise",color:"text-red-600"},t=a=>{const x=Math.floor(a/60),E=a%60;return`${x}h ${E}min`},r=a=>Math.min(a/1e4*100,100),s=a=>a>=150?{zone:"Intense",color:"bg-red-500"}:a>=120?{zone:"Modérée",color:"bg-orange-500"}:a>=90?{zone:"Légère",color:"bg-yellow-500"}:{zone:"Repos",color:"bg-green-500"};return N?e.jsx("div",{className:`flex items-center justify-center p-8 ${w}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Chargement des données..."})]})}):!i&&!l?e.jsxs("div",{className:`text-center p-8 ${w}`,children:[e.jsx(b,{className:"mx-auto mb-4 text-gray-400",size:48}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune donnée disponible"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Synchronisez vos appareils connectés pour voir vos statistiques"})]}):e.jsxs("div",{className:`space-y-6 ${w}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Données Wearables"}),e.jsx("div",{className:"flex space-x-2",children:[7,30,90].map(a=>e.jsxs(C,{onClick:()=>z(a),variant:v===a?"default":"outline",size:"sm",children:[a,"j"]},a))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(m,{children:[e.jsxs(p,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium",children:"Pas aujourd'hui"}),e.jsx(b,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-2xl font-bold",children:((n=i==null?void 0:i.steps)==null?void 0:n.toLocaleString())||((c=l==null?void 0:l.totalSteps)==null?void 0:c.toLocaleString())||0}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r((i==null?void 0:i.steps)||(l==null?void 0:l.totalSteps)||0)}%`}})}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Objectif: 10,000 pas"})]})]})]}),e.jsxs(m,{children:[e.jsxs(p,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium",children:"Rythme cardiaque"}),e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Math.round((l==null?void 0:l.avgHeartRate)||0)," BPM"]}),e.jsxs("div",{className:"mt-2",children:[(l==null?void 0:l.avgHeartRate)&&e.jsx(u,{variant:"secondary",className:`${s(l.avgHeartRate).color} text-white`,children:s(l.avgHeartRate).zone}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Moyenne sur ",v," jours"]})]})]})]}),e.jsxs(m,{children:[e.jsxs(p,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium",children:"Sommeil"}),e.jsx(P,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t((l==null?void 0:l.avgSleepDuration)||0)}),e.jsxs("div",{className:"mt-2",children:[(l==null?void 0:l.avgSleepQuality)&&e.jsx(u,{variant:"secondary",className:y(l.avgSleepQuality).color,children:y(l.avgSleepQuality).text}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Qualité moyenne"})]})]})]}),e.jsxs(m,{children:[e.jsxs(p,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium",children:"Calories"}),e.jsx(D,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(i==null?void 0:i.caloriesBurned)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx("span",{className:"text-green-600",children:"+12%"})," vs hier"]})]})]})]}),(i==null?void 0:i.sleepSessions)&&i.sleepSessions.length>0&&e.jsxs(m,{children:[e.jsx(p,{children:e.jsxs(f,{className:"flex items-center",children:[e.jsx(P,{className:"mr-2",size:20}),"Dernière nuit de sommeil"]})}),e.jsx(h,{children:i.sleepSessions.map((a,x)=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium",children:[a.startTime.toLocaleTimeString()," -"," ",a.endTime.toLocaleTimeString()]}),e.jsx("p",{className:"text-xs text-gray-500",children:t(a.duration)})]}),e.jsx(u,{variant:"secondary",className:y(a.quality==="excellent"?4:a.quality==="good"?3:a.quality==="fair"?2:1).color,children:a.quality})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-semibold text-blue-600",children:t(a.deepSleepDuration||0)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Sommeil profond"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-semibold text-purple-600",children:t(a.remSleepDuration||0)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Sommeil REM"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-semibold text-orange-600",children:a.awakenings||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Réveils"})]})]})]},x))})]}),i&&e.jsxs(m,{children:[e.jsx(p,{children:e.jsxs(f,{className:"flex items-center",children:[e.jsx(A,{className:"mr-2",size:20}),"Résumé d'activité"]})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-blue-600",children:[((i.distance||0)/1e3).toFixed(1)," km"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Distance"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-green-600",children:[i.activeMinutes||0," min"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Activité"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-orange-600",children:[Math.max(...i.heartRate||[0])," BPM"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"FC max"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-purple-600",children:[Math.min(...i.heartRate||[100])," BPM"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"FC repos"})]})]})})]}),(i==null?void 0:i.lastSync)&&e.jsx(m,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{className:"text-gray-500",size:16}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Dernière synchronisation: ",i.lastSync.toLocaleString()]})]}),e.jsx(u,{variant:"outline",children:"Synchronisé"})]})})})]})},oe=()=>{const{getCachedData:j,syncAll:w,isLoading:M}=O(),{toast:i}=H(),[g,l]=o.useState([]),[d]=o.useState({steps:1e4,calories:500,activeMinutes:30,heartRateZone:120});o.useEffect(()=>{N();const r=setInterval(N,6e4);return()=>clearInterval(r)},[]);const N=()=>{const r=j();if(!r)return;const s=[];if(r.steps>=d.steps&&s.push({id:"steps-goal-"+Date.now(),type:"goal",title:"🎯 Objectif pas atteint !",message:`Bravo ! Vous avez fait ${r.steps.toLocaleString()} pas aujourd'hui`,timestamp:new Date,icon:B,priority:"medium",read:!1}),(r.caloriesBurned||0)>=d.calories&&s.push({id:"calories-goal-"+Date.now(),type:"goal",title:"🔥 Objectif calories atteint !",message:`Excellente journée ! ${r.caloriesBurned||0} calories brûlées`,timestamp:new Date,icon:D,priority:"medium",read:!1}),r.heartRate&&r.heartRate.length>0){const x=Math.max(...r.heartRate);x>180&&s.push({id:"heart-rate-high-"+Date.now(),type:"health",title:"⚠️ Fréquence cardiaque élevée",message:`Pic à ${x} BPM détecté. Pensez à vous reposer.`,timestamp:new Date,icon:K,priority:"high",read:!1})}r.steps>15e3&&s.push({id:"achievement-super-walker-"+Date.now(),type:"achievement",title:"🏆 Super Marcheur !",message:"Incroyable ! Plus de 15,000 pas aujourd'hui !",timestamp:new Date,icon:I,priority:"low",read:!1});const n=new Date,c=r.lastSync||new Date;(n.getTime()-c.getTime())/(1e3*60*60)>2&&s.push({id:"activity-reminder-"+Date.now(),type:"reminder",title:"💪 Temps de bouger !",message:"Cela fait un moment que vous n'avez pas été actif. Que diriez-vous d'une petite marche ?",timestamp:new Date,icon:b,priority:"low",read:!1}),l(x=>{const E=x.map($=>$.id),V=s.filter($=>!E.includes($.id));return[...x,...V]}),s.forEach(x=>{x.priority==="high"&&i({title:x.title,description:x.message,variant:"destructive"})})},S=r=>{l(s=>s.map(n=>n.id===r?{...n,read:!0}:n))},v=()=>{l([])},z=r=>{switch(r){case"goal":return"bg-green-50 border-green-200";case"achievement":return"bg-yellow-50 border-yellow-200";case"reminder":return"bg-blue-50 border-blue-200";case"health":return"bg-red-50 border-red-200";default:return"bg-gray-50 border-gray-200"}},k=r=>{switch(r){case"goal":return B;case"achievement":return I;case"reminder":return T;case"health":return L;default:return b}},y=g.filter(r=>!r.read).length,t=j();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"text-gray-600",size:24}),y>0&&e.jsx(u,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center text-xs",children:y})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Centre de notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:y>0?`${y} nouvelle(s) notification(s)`:"Aucune nouvelle notification"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(C,{onClick:()=>w(),disabled:M,size:"sm",variant:"outline",children:[e.jsx(b,{className:"mr-2",size:16}),"Synchroniser"]}),g.length>0&&e.jsx(C,{onClick:v,size:"sm",variant:"ghost",children:"Tout effacer"})]})]}),e.jsxs(m,{children:[e.jsx(p,{children:e.jsxs(f,{className:"flex items-center",children:[e.jsx(B,{className:"mr-2",size:20}),"Objectifs quotidiens"]})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(((t==null?void 0:t.steps)||0)/d.steps*100),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pas"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[((t==null?void 0:t.steps)||0).toLocaleString()," / ",d.steps.toLocaleString()]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(((t==null?void 0:t.steps)||0)/d.steps*100,100)}%`}})})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[Math.round(((t==null?void 0:t.caloriesBurned)||0)/d.calories*100),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Calories"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(t==null?void 0:t.caloriesBurned)||0," / ",d.calories]}),e.jsx("div",{className:"w-full bg-red-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-red-600 h-2 rounded-full",style:{width:`${Math.min(((t==null?void 0:t.caloriesBurned)||0)/d.calories*100,100)}%`}})})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(((t==null?void 0:t.activeMinutes)||0)/d.activeMinutes*100),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Minutes actives"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(t==null?void 0:t.activeMinutes)||0," / ",d.activeMinutes]}),e.jsx("div",{className:"w-full bg-green-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${Math.min(((t==null?void 0:t.activeMinutes)||0)/d.activeMinutes*100,100)}%`}})})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t!=null&&t.heartRate?Math.round(t.heartRate.reduce((r,s)=>r+s,0)/t.heartRate.length):0}),e.jsx("div",{className:"text-sm text-gray-600",children:"BPM moyen"}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Zone:"," ",t!=null&&t.heartRate&&t.heartRate.some(r=>r>d.heartRateZone)?"Active":"Repos"]}),e.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${Math.min((t!=null&&t.heartRate?Math.max(...t.heartRate):0)/200*100,100)}%`}})})]})]})})]}),e.jsxs(m,{children:[e.jsx(p,{children:e.jsxs(f,{className:"flex items-center",children:[e.jsx(T,{className:"mr-2",size:20}),"Notifications récentes"]})}),e.jsx(h,{children:g.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Y,{className:"mx-auto mb-4 text-gray-400",size:48}),e.jsx("p",{className:"text-gray-600",children:"Aucune notification pour le moment"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Vos notifications d'activité et de santé apparaîtront ici"})]}):e.jsx("div",{className:"space-y-3",children:g.slice(0,10).map(r=>{const s=k(r.type);return e.jsx("div",{className:`p-4 rounded-lg border transition-all cursor-pointer ${r.read?"opacity-60":""} ${z(r.type)}`,onClick:()=>S(r.id),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`p-2 rounded-full ${r.priority==="high"?"bg-red-100":r.priority==="medium"?"bg-yellow-100":"bg-blue-100"}`,children:e.jsx(s,{size:16,className:r.priority==="high"?"text-red-600":r.priority==="medium"?"text-yellow-600":"text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:r.title}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{variant:"outline",className:"text-xs",children:r.type}),!r.read&&e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.message}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(F,{size:12,className:"text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-500",children:r.timestamp.toLocaleTimeString()})]})]})]})},r.id)})})})]}),e.jsxs(m,{children:[e.jsx(p,{children:e.jsxs(f,{className:"flex items-center",children:[e.jsx(A,{className:"mr-2",size:20}),"Insights et tendances"]})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ee,{className:"text-blue-600",size:16}),e.jsx("span",{className:"text-sm font-medium",children:"Cette semaine"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Votre activité est en hausse de 15% par rapport à la semaine dernière !"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(se,{className:"text-green-600",size:16}),e.jsx("span",{className:"text-sm font-medium",children:"Comparaison"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Vous êtes plus actif que 78% des utilisateurs de votre âge !"})]})]})})]})]})},Oe=()=>{const{toast:j}=H(),[w,M]=o.useState("overview"),[i,g]=o.useState([]),[l,d]=o.useState([]),[N,S]=o.useState(!1),v=o.useCallback(async()=>{try{const s=[{id:"1",name:"Apple Watch Series 9",type:"watch",brand:"Apple",model:"Series 9",connected:!0,battery_level:78,last_sync:new Date(Date.now()-9e5).toISOString(),sync_status:"synced"},{id:"2",name:"Google Fit",type:"fitness_tracker",brand:"Google",model:"Fit App",connected:!0,last_sync:new Date(Date.now()-18e5).toISOString(),sync_status:"synced"},{id:"3",name:"Polar H10",type:"heart_monitor",brand:"Polar",model:"H10",connected:!1,last_sync:new Date(Date.now()-72e5).toISOString(),sync_status:"error"}];g(s);const n=[{device_id:"3",message:"Connexion Bluetooth perdue avec Polar H10",timestamp:new Date(Date.now()-30*60*1e3).toISOString(),resolved:!1}];d(n)}catch{console.error("Erreur chargement appareils:",error),j({title:"Erreur",description:"Impossible de charger vos appareils connectés",variant:"destructive"})}},[j]),z=o.useCallback(async()=>{S(!0);try{await new Promise(s=>setTimeout(s,2e3)),g(s=>s.map(n=>({...n,last_sync:new Date().toISOString(),sync_status:n.connected?"synced":"error"}))),j({title:"Synchronisation réussie",description:"Toutes vos données wearables sont à jour."}),typeof window<"u"&&window.gtag&&window.gtag("event","wearable_manual_sync",{event_category:"engagement",event_label:"manual_sync",value:i.filter(s=>s.connected).length})}catch{console.error("Erreur synchronisation:",error),j({title:"Erreur de synchronisation",description:"Impossible de synchroniser vos appareils.",variant:"destructive"})}finally{S(!1)}},[i,j]),k=o.useCallback(async s=>{try{g(c=>c.map(a=>a.id===s?{...a,sync_status:"syncing"}:a)),await new Promise(c=>setTimeout(c,3e3)),g(c=>c.map(a=>a.id===s?{...a,connected:!0,sync_status:"synced",last_sync:new Date().toISOString()}:a)),d(c=>c.map(a=>a.device_id===s?{...a,resolved:!0}:a));const n=i.find(c=>c.id===s);j({title:"Appareil reconnecté",description:`${n==null?void 0:n.name} est maintenant connecté et synchronisé.`})}catch{console.error("Erreur reconnexion:",error),g(n=>n.map(c=>c.id===s?{...c,sync_status:"error"}:c))}},[i,j]),y=o.useCallback(s=>{d(n=>n.map((c,a)=>a===s?{...c,resolved:!0}:c))},[]);o.useEffect(()=>{v()},[v]),o.useEffect(()=>{const s=setInterval(()=>{N||v()},3e5);return()=>clearInterval(s)},[v,N]);const t=i.filter(s=>s.connected),r=l.some(s=>!s.resolved);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(q,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"MyFitHero Wearables"}),e.jsx("p",{className:"text-gray-600",children:"Centre de contrôle pour vos appareils connectés"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(C,{onClick:z,disabled:N,variant:"outline",size:"sm","aria-label":"Synchroniser manuellement tous les appareils",children:[e.jsx(te,{className:`h-4 w-4 mr-2 ${N?"animate-spin":""}`}),N?"Sync...":"Synchroniser"]}),e.jsxs(u,{variant:t.length>0?"default":"destructive",className:t.length>0?"text-green-600 border-green-600":"",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${t.length>0?"bg-green-500 animate-pulse":"bg-red-500"}`}),t.length>0?"En ligne":"Hors ligne"]}),e.jsxs(u,{variant:"secondary",children:[e.jsx(b,{size:12,className:"mr-1"}),t.length,"/",i.length," appareils"]})]})]}),r&&e.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"h-4 w-4 text-red-600"}),e.jsxs("span",{className:"text-sm font-medium text-red-800",children:[l.filter(s=>!s.resolved).length," problème(s) détecté(s)"]})]}),e.jsx("div",{className:"mt-2 space-y-1",children:l.filter(s=>!s.resolved).map((s,n)=>e.jsxs("div",{className:"flex items-center justify-between text-sm text-red-700",children:[e.jsx("span",{children:s.message}),e.jsx(C,{onClick:()=>y(n),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800",children:"Résoudre"})]},n))})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs(Q,{value:w,onValueChange:M,className:"space-y-6",children:[e.jsxs(Z,{className:"grid w-full grid-cols-4",children:[e.jsxs(R,{value:"overview",className:"flex items-center space-x-2",children:[e.jsx(re,{size:16}),e.jsx("span",{children:"Vue d'ensemble"})]}),e.jsxs(R,{value:"notifications",className:"flex items-center space-x-2",children:[e.jsx(T,{size:16}),e.jsx("span",{children:"Notifications"})]}),e.jsxs(R,{value:"analytics",className:"flex items-center space-x-2",children:[e.jsx(A,{size:16}),e.jsx("span",{children:"Analytics"})]}),e.jsxs(R,{value:"settings",className:"flex items-center space-x-2",children:[e.jsx(X,{size:16}),e.jsx("span",{children:"Paramètres"})]})]}),e.jsx(_,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(de,{})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(m,{children:[e.jsx(p,{children:e.jsxs(f,{className:"flex items-center",children:[e.jsx(b,{className:"mr-2",size:20}),"Résumé rapide"]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"État de santé"}),e.jsx(u,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Excellent"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Niveau d'activité"}),e.jsx(u,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"Très actif"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Tendance"}),e.jsx(u,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:"↗️ En hausse"})]})]})]}),e.jsxs(m,{children:[e.jsx(p,{children:e.jsxs(f,{className:"flex items-center",children:[e.jsx(U,{className:"mr-2",size:20}),"Appareils connectés"]})}),e.jsx(h,{className:"space-y-3",children:i.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[s.type==="watch"&&e.jsx(q,{className:"text-blue-500",size:16}),s.type==="fitness_tracker"&&e.jsx(b,{className:"text-green-500",size:16}),s.type==="heart_monitor"&&e.jsx(L,{className:"text-red-500",size:16}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:s.name}),s.battery_level&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Batterie: ",s.battery_level,"%"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:s.connected?e.jsxs(u,{variant:"secondary",className:"bg-green-100 text-green-800",children:[e.jsx(ie,{className:"h-3 w-3 mr-1"}),"Connecté"]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(u,{variant:"secondary",className:"bg-red-100 text-red-800",children:[e.jsx(ce,{className:"h-3 w-3 mr-1"}),"Déconnecté"]}),e.jsx(C,{onClick:()=>k(s.id),size:"sm",variant:"outline",disabled:s.sync_status==="syncing",children:s.sync_status==="syncing"?"Connexion...":"Reconnecter"})]})})]},s.id))})]})]})]})}),e.jsx(_,{value:"notifications",children:e.jsx(oe,{})}),e.jsx(_,{value:"analytics",className:"space-y-6",children:e.jsxs(m,{children:[e.jsx(p,{children:e.jsxs(f,{className:"flex items-center",children:[e.jsx(A,{className:"mr-2",size:20}),"Analytics avancés"]})}),e.jsxs(h,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"87%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Objectifs atteints"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Ce mois"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"+12%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Amélioration"}),e.jsx("div",{className:"text-xs text-gray-500",children:"vs mois dernier"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"15"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Jours actifs"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Série actuelle"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"4.2"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Score santé"}),e.jsx("div",{className:"text-xs text-gray-500",children:"/ 5.0"})]})]}),e.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Insights personnalisés"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:"• Votre activité est optimale entre 10h et 16h"}),e.jsx("li",{children:"• Les jours avec plus de sommeil REM correspondent à de meilleures performances"}),e.jsx("li",{children:"• Votre fréquence cardiaque de repos s'améliore constamment"}),e.jsx("li",{children:"• Les entraînements matinaux donnent les meilleurs résultats"})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Fréquence cardiaque (7 derniers jours)"}),e.jsx("div",{className:"h-32 bg-gray-100 rounded flex items-center justify-center text-gray-500",children:"Graphique FC - Intégration Chart.js à venir"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Pas quotidiens"}),e.jsx("div",{className:"h-32 bg-gray-100 rounded flex items-center justify-center text-gray-500",children:"Graphique Pas - Intégration Chart.js à venir"})]})]})]})]})}),e.jsx(_,{value:"settings",children:e.jsx(J,{})})]})})]})};export{Oe as default};
//# sourceMappingURL=WearableHubPage-BvJffMC0.js.map
